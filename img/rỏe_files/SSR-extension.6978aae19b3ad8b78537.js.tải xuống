!function(){"use strict";!function(){if("undefined"!=typeof __webpack_require__){const t=__webpack_require__.e,n={};var e;const i=document.head.getAttribute("data-info");__webpack_require__.e=function(o){return t(o).catch((function(t){const r=n.hasOwnProperty(o)?n[o]:2;if(void 0===e&&(e=!!(i&&i.indexOf("prg-afdretry-t")>-1)),e&&2===r&&(__webpack_require__.p=__webpack_require__.p.replace("/assets.","/assets2.")),1===r)if(e){const e=new URL(__webpack_require__.p,window.location.href);__webpack_require__.p=e.href.replace(e.host,window.location.host)}else __webpack_require__.p=__webpack_require__.p.replace("/assets.","/assets2.");if(r<1)throw t;return new Promise((function(e){setTimeout((function(){n[o]=r-1,e(__webpack_require__.e(o))}),100)}))}))}}}();let e=new Map;const t=Object.freeze({set(t,n){return e.set(t,n),this},get:function(t,n){let i=e.get(t);return void 0===i&&n&&(i=n(),e.set(t,i)),i},clear(){e.clear()},delete:t=>e.delete(t),has:t=>e.has(t)});function n(){return"undefined"!=typeof window&&window.document&&window.document.createElement&&!window.isRenderServiceEnv?window._pageTimings||(window._pageTimings={}):t.get("__diagnostics_pageTimings",(()=>({})))}let i,o,r;function a(){if(r)return r;const e=document.head.getAttribute("data-info");return r=((/f:\s*([^;]+)/i.exec(e)||{})[1]||"").toLowerCase(),r}var s;!function(e){e.JSON="application/json;charset=UTF-8",e.HTML="text/html;charset=UTF-8"}(s=s||(s={}));function c(){const e=performance.getEntriesByType("navigation")[0].serverTiming;if(e){const t=e.find((e=>"rsClusterName"===e.name));if(t)return t.description}}let d,l,u;(new Date).getTime();try{l="sessionStorage"in window&&window.sessionStorage}catch(e){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((e=>{u=e.platformVersion}))}catch(e){}function w(){const e="undefined"!=typeof document&&document.cookie;if(!m&&!e)return"";const t=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(e);return t&&t.length>1?t[1]:""}const m=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function p(){let e=!1;if(m)try{const t=u;if(t&&parseInt(t.split(".")[0])>=11&&(e=!0),!e&&window&&window.external&&window.external.getHostEnvironmentValue("os-build")){const t=JSON.parse(window.external.getHostEnvironmentValue("os-build"))["os-build"].split(".");(t[0]>10||10===t[0]&&t[1]>0||t[2]>=22e3)&&(e=!0)}}catch(e){}return d=!0===e||null,d}var g;const h=JSON.parse((null===(g=document.head.dataset)||void 0===g?void 0:g.clientSettings)||"{}");let f,b,y=null;function v(e){y=e}function S(e,t){var n,i;const o=w(),r=y||{},s=new URLSearchParams(h.queryparams).get("edgessr");return{name:e,time:t.toISOString(),ver:"4.0",iKey:`o:${null===(n=window.oneDSConfig)||void 0===n?void 0:n.key.split("-")[0]}`,data:Object.assign(Object.assign({},r),{baseType:"MS.News.Web.Base",baseData:{},page:Object.assign(Object.assign({},r.page),{canvas:"Browser",appType:h.apptype,content:Object.assign(Object.assign({},null===(i=r.page)||void 0===i?void 0:i.content),{title:document.title})}),flight:{id:a(),tmpl:`ssrscope:1;ssr-enabled:1;${s?`edgessr:${s};`:""}edge.mem:${navigator.deviceMemory+""};edge.concurrency:${navigator.hardwareConcurrency+""};edge.connection:${navigator.connection.effectiveType+""}`},browser:{width:window.outerWidth,height:window.outerHeight,screenSize:[screen.width,screen.height].join("x"),clientId:o,scrollOffset:m&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0,anoncknm:"app_anon",cookieEnabled:navigator.cookieEnabled,isWin11:p(),muid:o},request:{activityId:h.aid,requestId:h.aid,afdMuid:h.fd_muid},timestamp:t.getTime(),sdk:{name:"peregrine-lite-telemetry",ver:"1.0.19",schemaVer:"1.0.19"},build:h.bundleInfo.v,custom:Object.assign(Object.assign({},r.custom),{"rs-cluster-name":c(),"ssr-enabled":1})}),ext:{user:{localId:`t:${o}`}}}}function T(e){try{return decodeURIComponent(e)}catch(e){}}function _(e,t){if(!e)return null;if(t)return function(e){var t;const n=null===(t=document.cookie)||void 0===t?void 0:t.match(`\\b${e}=([^;]*)`);return n?T(n[1]):null}(e);if(!f){const e="undefined"!=typeof document&&document.cookie.split("; ");f={};const t=e&&e.length;for(let n=0;n<t;n++){const t=e[n].indexOf("=");f[e[n].slice(0,t).toLocaleLowerCase()]=T(e[n].slice(t+1))}}const n=e.toLocaleLowerCase();return f[n]||null}var k;!function(e){e[e.Alert=0]="Alert",e[e.NoAlert=1]="NoAlert",e[e.HighImpact=2]="HighImpact",e[e.Critical=3]="Critical"}(k||(k={}));const R=new class{constructor(e=20){this.maxLength=20,this.list=[],this.maxLength=e}push(e){this.list.push(e),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}};function E(e,t,n,i=k.Alert){try{const r=function(){if(!o){const e=document.head.getAttribute("data-client-settings");e&&(o=JSON.parse(e))}return o}(),s=a(),c=function(e){if(e){const{pcsInfo:t,pageGenTime:n}=e,i=new Date(n).getTime(),o=["prod","prod-ssr","prod-ssrntp"],r=!t||o.includes(t.env);b=r?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:r?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":i,w:"0",anoncknm:"app_anon"}}return null}(r);let d="";c&&c.apikey&&""!==c.apikey&&(d=function(e){if(e){const t=e.indexOf("-");if(t>0)return e.substring(0,t)}return""}(c.apikey));const l=function(e,t,n,i,o,r,a=k.Alert){var s;if(n){o=o||{};const{apptype:c,audienceMode:d,pagetype:l,pageGenTime:u,bundleInfo:w,deviceFormFactor:m="",fd_muid:p,os:g}=n;o.pageGenTime=u,o.build=w&&w.v,o.appType=c;const h=function(e,t,n){const i=n&&"phone"===n.toLowerCase();return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:t&&"enterprise"===t?"entnews":"anaheim",hybrid:"spartan",hub:i?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:i?"prime_mobile":"prime",windowsShell:"windowsshell"}[e]}(c,d,m),f=h||c,b=document.getElementsByTagName("html")[0].getAttribute("lang");let y,v="",S="muid";try{if("edgeChromium"===c&&"object"==typeof window&&window.location&&window.location.search){const e=new URLSearchParams(window.location.search);y=e.has("startpage")?"msedgdhp":"msedgntp","enterprise"===d?y="entnewsntp":"xbox"===g&&(y="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||(v=_("muid"))}catch(e){}v||(v=n.aid,S="aid");const T={name:"MS.News.Web.AppError",time:u,ver:"4.0",iKey:`o:${i}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{name:"default",product:f,type:x(l),content:{category:"standaloneError"},ocid:y},browser:{clientId:v,clientIdType:S},flight:{id:r},request:{activityId:n.aid,requestId:n.aid,afdMuid:p},locale:{mkt:b},extSchema:{id:e,severity:a,pb:o,message:t}}};return v&&"muid"===S&&(T.ext=Object.assign(Object.assign({},null==T?void 0:T.ext),{user:Object.assign(Object.assign({},null===(s=null==T?void 0:T.ext)||void 0===s?void 0:s.user),{localId:`t:${v}`})})),T.data.flight.tmpl="",o.isSSRScope&&(T.data.flight.tmpl+="ssrscope:1"),"object"==typeof window&&(window.isSSREnabled&&(T.data.flight.tmpl+=";ssr-enabled:1"),window.isSSRCompleted&&(T.data.flight.tmpl+=";ssr-completed:1")),T?JSON.stringify(T):null}return null}(t,e,r,d,n,s,i);if(c&&l){console.error(l),R.push(l);const e="https://"+b+"/OneCollector/1.0"+function(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}(c);navigator.sendBeacon(e,l)}}catch(e){}}function x(e){let t=e;switch(e){case"windowsshellhp":t="dhp";break;case"video":t="watch"}return t}const A="data-t";function q(e){try{const t=function(){const e=new URL(window.oneDSConfig.endpoint);return e.searchParams.append("cors","true"),e.searchParams.append("content-type","application/x-json-stream"),e.searchParams.append("client-id","NO_AUTH"),e.searchParams.append("client-version",`peregrine-lite-telemetry-${h.bundleInfo.v}`),e.searchParams.append("apikey",window.oneDSConfig.key),e.searchParams.append("upload-time",Date.now().toString()),e.searchParams.append("w","0"),e.searchParams.append("anoncknm","app_anon"),e.searchParams.append("NoResponseBody","true"),e}();navigator.sendBeacon(t,JSON.stringify(e))}catch(e){E("Error sending Lite Telemetry",34019,{error:e.message})}}function O(){try{if(sessionStorage.getItem("sign-in-active")||sessionStorage.getItem("sign-in-pending")||sessionStorage.getItem("sign-in-refreshed-page")||sessionStorage.getItem("sign-in-refresh-session"))return}catch(e){}window.__peregrine_litePVSent=!0;const e=S("MS.News.Web.PageView",new Date);(i||(i=new Promise((e=>{"visible"===document.visibilityState&&e(),document.addEventListener("visibilitychange",(function t(){"visible"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",t))}))}))),i).then((()=>{n().TimeToSendPageView=Math.round(performance.now()),q(e)}))}function C(e,t){if(e)try{const n=S("MS.News.Web.PageAction",new Date);n.data.actionType=t,["click","rightclick"].includes(t)&&(n.data.gesture=t);const i=I(e);if(i){if("search_websearch"===i.n)return;n.data.behavior=i.b,n.data.object={name:i.n,type:i.t,content:{id:i["c.i"],type:i["c.t"],headline:i["c.hl"],vertical:i["c.v"],brandId:i["c.bi"],category:i["c.c"]},ext:i.ext,destinationUrl:e.getAttribute("action")||e.href||""};let t=i.n||"",o=e.parentElement;for(;o&&o!==document.body;){const e=I(o);(null==e?void 0:e.n)&&(t=`${e.n}>${t}`),o=o.assignedSlot||o.parentElement||o.parentNode.host}n.data.object.placement={lineage:t}}q(n)}catch(e){E("Error sending Lite Action Telemetry",34019,{error:e.message})}}function L(e){try{if("auxclick"===e.type&&1!==e.button)return;const t=function(e){if(!e)return;if(!e.composedPath||"function"!=typeof e.composedPath)return e.target;{const t=e.composedPath();if(t.length>2&&"hasAttribute"in t[0]&&!t[0].hasAttribute(A)&&"[object ShadowRoot]"===Object.prototype.toString.call(t[1])&&"hasAttribute"in t[2]&&t[2].hasAttribute(A))return t[2];if(t.length>0)return t[0]}}(e),n=t&&function(e){var t;const n=20;for(let i=0;i<n&&e&&!N(e);i++)e=e.assignedSlot||e.parentElement||(null===(t=e.parentNode)||void 0===t?void 0:t.host);if(!N(e))return;return e}(t);C(n,P[e.type]||"click")}catch(e){E("Error sending Click Event Telemetry",34019,{error:e.message})}}function N(e){if(!e)return!1;if("BUTTON"===e.nodeName||e.hasAttribute("href")||e.getAttribute&&"button"===e.getAttribute("role")||e.form)return!0;const t=I(e);return t&&(5===t.t||11===t.t||t.b&&e.tagName.includes("-"))}function I(e){try{const t=e.getAttribute(A);return t&&JSON.parse(t)}catch(e){E("Error parsing telemetry attribute",34019,{error:e.message})}}const P={auxclick:"middleclick",contextmenu:"rightclick"};function j(){var e;window.isSSRCompleted&&(null===(e=null===window||void 0===window?void 0:window.ssrAdBeaconData)||void 0===e||e.forEach((e=>{!function(e){if(null==e?void 0:e.length)try{const t=JSON.parse(e),n=t&&t.trb;for(let e=0;e<n.length;e++){D(n[e],t.e)}}catch(t){E(`Fail to fire ad served call, Fail to parse beacon json tracking data: ${e}`,20179,{error:t.message})}}(e)})))}function D(e,t){t||(e=decodeURIComponent(e)),e&&function(e){try{let t=new Image(1,1);t.src=e,t=null}catch(t){E(`Invalid beacon URL, Fail to parse beacon json tracking data: ${e}`,20189,{error:t.message})}finally{window.servedBeaconUrls?window.servedBeaconUrls.push(e):window.servedBeaconUrls=[e]}}(e)}class U{constructor(){this._published=[],this._subscribers=[]}publish(e){this._published.push(e),this._subscribers.forEach((t=>t(e)))}subscribe(e){this._subscribers.push(e),this._published.forEach((t=>e(t)))}bulkPublish(e){e.forEach((e=>this.publish(e)))}}(()=>{const e=location.search.toLowerCase().indexOf("ssronly=true")>-1;e&&(window.SSRONLY=e),window.isSSREnabled&&(history.scrollRestoration="manual",window.setLiteTelemetryContract=v,window.sendLitePV=O,window.sendAdBeacon=j,window.ssrLoadedExperience=new U,window.ssrLoadedBundles=new U,window.standbyClickEventsHandler=e=>{L(e)},window.addEventListener("click",window.standbyClickEventsHandler),window.addEventListener("auxclick",window.standbyClickEventsHandler),window.addEventListener("contextmenu",window.standbyClickEventsHandler),window.addEventListener("beforeunload",(()=>{window.isSSRCompleted||window.isCSRFallback||E("SSR streaming not complete during page unload",34017,{eventTimeStamp:(new Date).toISOString(),markerTime:Math.round(performance.now()),hasSSRData:!!window.ntpSSRData})})),window.searchFormSubmitListener=e=>{C(e.target,"submit")},window.markTTSR=e=>{window._pageTimings[`${e}-Init`]=Math.round(performance.now()),requestAnimationFrame((()=>{window._pageTimings[`${e}-RAF`]=Math.round(performance.now()),setTimeout((()=>{window._pageTimings[e]=Math.round(performance.now())}))}))},window.addEventListener("TTSR.SearchBox",(()=>{try{const e=document.querySelector("edge-chromium-page").shadowRoot.querySelector("cs-header-core").shadowRoot.querySelector("common-search-box-edgenext").shadowRoot.querySelector("cs-common-search-box").shadowRoot.querySelector("form");if(!e)throw"Search box form element not found";e.addEventListener("submit",window.searchFormSubmitListener)}catch(e){E("Exception occurred while adding search box form submit event listener",34018,{error:e.message})}}),{once:!0}),window.addEventListener("TTSR.TopSitesTag",(()=>{const e=document.getElementsByTagName("edge-chromium-page")[0].shadowRoot.querySelector("top-sites-edgenext");if(!e)return;let t;e.removeAttribute("needs-hydration");try{t=JSON.parse(localStorage["TSNP1.topsites"])}catch(e){return void E("Failed to get topsites data for SSR TopSites",34020,{error:e.message})}const n=e.shadowRoot,i=null==n?void 0:n.querySelectorAll("div.pill-top-site:not(.add-placeholder)");if(i.length>0){const e=Math.min(i.length,t.length);for(let n=0;n<e;n++){const e=t[n],o=i[n];e.contentViewTelemetryTag&&o.setAttribute("data-t",e.contentViewTelemetryTag),o.setAttribute("title",e.title),o.setAttribute("aria-label",e.title),o.querySelector(".image img").setAttribute("src",e.faviconUrl);const r=o.querySelector("a.control");r.setAttribute("href",e.url),e.anchorTelemetryTag?r.setAttribute("data-t",e.anchorTelemetryTag):E("No anchorTelemetryTag",34021,{error:`contentViewTelemetryTag is ${o.getAttribute("data-t")}`}),o.querySelector("a.control .top-site-title span").innerText=e.title}if(i.length>t.length)for(let t=e;t<i.length;t++)i[t].remove();return void window.markTTSR("TTSR.TopSitesEdgeNextWC")}const o=null==n?void 0:n.querySelectorAll("a.pill-top-site");if(o.length>0){const e=Math.min(o.length,t.length);for(let n=0;n<e;n++){const e=t[n],i=o[n];i.setAttribute("href",e.url),i.setAttribute("title",e.title),i.setAttribute("aria-label",e.title),i.querySelector(".left-part img").setAttribute("src",e.faviconUrl),i.querySelector(".left-part span").innerText=e.title,e.anchorTelemetryTag&&i.setAttribute("data-t",e.anchorTelemetryTag)}if(o.length>t.length)for(let t=e;t<o.length;t++)o[t].remove();window.markTTSR("TTSR.TopSitesEdgeNextWC")}else;}),{once:!0}),window.initAuctionRequest=e=>{const{request:t,url:n}=e||{};n&&t&&(window.auctionRequestData=e,window.auctionRequestData.startTime=performance.now(),window.auctionPromise=new Promise(((e,i)=>{fetch(n,t).then((t=>{window.auctionRequestData.endTime=performance.now(),e(t)})).catch((e=>{i(e)}))})))},window.initCrsRequest=e=>{const{url:t}=e||{};t&&(window.crsRequestData=e,window.crsPromise=new Promise(((e,n)=>{fetch(t).then((t=>{e(t)})).catch((e=>{n(e)}))})))},window.isResized=!1,window.addEventListener("resize",(()=>window.isResized=!0),{once:!0}))})()}();